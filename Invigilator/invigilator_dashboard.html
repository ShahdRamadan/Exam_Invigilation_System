<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بوابة المراقب / الملاحظ | جامعة الغردقة</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../Styles/index.css">
</head>

<body>

    <div id="print-header">
        <img src="../Images/UNI_LOGO.png" alt="شعار الجامعة" style="width: 80px; margin-bottom: 10px;">
        <h2 style="margin: 0; font-size: 24px;">جامعة الغردقة</h2>
        <h3 style="margin: 5px 0 0; font-size: 18px; font-weight: normal;">شئون التعليم والطلاب - جداول المراقبة</h3>
        <p style="margin-top: 10px;">
            العام الجامعي <span id="academic_year_print">... / ...</span>
        </p>
    </div>

    <aside class="sidebar">
        <div>
            <div class="brand">
                <img src="../Images/UNI_LOGO.png" alt="شعار الجامعة" class="brand-logo">
                <span>جامعة الغردقة</span>
            </div>

            <nav class="nav">
                <a href="invigilator_dashboard.html" class="active">
                    <i class="fa-solid fa-clipboard-list"></i>
                    <span>جدول المراقبة</span>
                </a>
                <a href="report_violation.html">
                    <i class="fa-solid fa-triangle-exclamation"></i>
                    <span>الإبلاغ عن مخالفة</span>
                </a>
                <a href="invigilator_profile.html">
                    <i class="fa-solid fa-user-tie"></i>
                    <span>الملف الشخصي</span>
                </a>
            </nav>
        </div>

        <div class="logout">
            <a href="../login.html"><i class="fa-solid fa-arrow-right-from-bracket"></i> تسجيل الخروج</a>
        </div>
    </aside>

    <main class="main">

        <div class="topbar">
            <div style="display: flex; align-items: center; gap: 15px;">
                <img id="profile_image" src="../Images/profile.png" alt="Profile"
                    style="width: 65px; height: 65px; border-radius: 50%; object-fit: cover; border: 2px solid #e2e8f0;">

                <div>
                    <h1 id="invigilator_name" style="margin: 0; font-size: 22px; color: var(--primary);">د. احمد محمد
                    </h1>
                    <div style="font-size: 15px; color: #000; margin-top: 5px; font-weight: 600;">
                        <span id="invigilator_role">مدرس مساعد</span>
                        <span style="color: #cbd5e1; margin: 0 8px;">|</span>
                        <span id="invigilator_department">قسم نظم المعلومات</span>
                    </div>
                </div>
            </div>

            <div class="user">
                <i class="fa-solid fa-id-badge"></i> Invigilator
            </div>
        </div>

        <section class="content">

            <div class="controls" style="justify-content: flex-end; margin-bottom: 20px;">
                <button onclick="window.print()" class="btn btn-secondary" style="cursor: pointer;">
                    <i class="fa-solid fa-print"></i> طباعة الجدول
                </button>
            </div>

            <h2 class="section-title">
                جدول التكليفات والمراقبة - <span id="current_semester">...</span>
            </h2>

            <div class="card">
                <table>
                    <thead>
                        <tr>
                            <th>اليوم والتاريخ</th>
                            <th>الفترة / الوقت</th>
                            <th>القاعة المخصصة</th>
                            <th>اسم المادة</th>
                            <th>الفرقة</th>
                            <th>ملاحظات</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <td>
                                <div style="font-weight: bold; color: var(--primary);">السبت</div>
                                <div style="font-size: 13px; color: #64748b; margin-top: 2px;">2025-05-15</div>
                            </td>

                            <td>09:00 - 12:00</td>
                            <td>مدرج (أ) - الدور الأرضي</td>
                            <td>نظم تشغيل</td>
                            <td>الثالثة</td>
                            <td>-</td>
                        </tr>


                        <tr>
                            <td>
                                <div style="font-weight: bold; color: var(--primary);">الخميس</div>
                                <div style="font-size: 13px; color: #64748b; margin-top: 2px;">2025-05-20</div>
                            </td>

                            <td>09:00 - 11:00</td>
                            <td>قاعة 42</td>
                            <td>حقوق إنسان</td>
                            <td>الأولى</td>
                            <td>مراقب احتياطي</td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </section>
    </main>
    <script>

        function updateAcademicDates() {
            const date = new Date();
            const currentMonth = date.getMonth() + 1; // الشهور (1 - 12)
            const currentYear = date.getFullYear();   // السنة (2025)

            // ============================================
            // 1. حساب العام الجامعي (ثابت زي ما هو)
            // ============================================
            let academicYearString = "";

            // السنة الجديدة بتبدأ من شهر 9
            if (currentMonth >= 9) {
                academicYearString = `${currentYear} / ${currentYear + 1}`;
            } else {
                academicYearString = `${currentYear - 1} / ${currentYear}`;
            }

            const yearElement = document.getElementById("academic_year_print");
            if (yearElement) {
                yearElement.textContent = academicYearString;
            }

            // ============================================
            // 2. حساب الفصل الدراسي (التقسيمة الجديدة)
            // ============================================
            let semesterName = "";

            // الترم الأول: شهر 9, 10, 11, 12, 1
            if (currentMonth >= 9 || currentMonth === 1) {
                semesterName = "الفصل الدراسي الأول";
            }
            // الترم الثاني: شهر 2, 3, 4, 5, 6 (يونيو عادة نهاية امتحانات الترم التاني)
            else if (currentMonth >= 2 && currentMonth <= 6) {
                semesterName = "الفصل الدراسي الثاني";
            }
            // الترم الصيفي: شهر 7, 8
            else {
                semesterName = "الفصل الدراسي الصيفي";
            }

            // وضع القيمة في العنوان
            const semesterElement = document.getElementById("current_semester");
            if (semesterElement) {
                semesterElement.textContent = semesterName;
            }
        }

        updateAcademicDates();
    </script>
</body>

</html>